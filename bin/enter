#! /usr/bin/env node
const chalk = require("chalk");
const program = require("commander");
const Inquirer = require("inquirer");
const gradient=require("gradient-string")
const { handleFolderExist } = require("../lib/create");
console.log(
  chalk.bold(
    gradient.morning('\nğŸš€ Welcome to use icefirecli to create custom-app')
  )
);
new Inquirer.prompt([
  {
    name: "projectName",
    type: "input",
    default: "projectName",
    message: "è¯·è¾“å…¥é¡¹ç›®ç›®å½•",
  },
]).then((cmd) => {
  cmd.projectName // å¤„ç†ç”¨æˆ·è¾“å…¥create æŒ‡ä»¤é™„åŠ çš„å‚æ•°
    ? handleFolderExist(cmd.projectName)
    : "";
});
// commander æä¾›äº† version æ–¹æ³•ï¼Œ.version() æ–¹æ³•å¯ä»¥è®¾ç½®ç‰ˆæœ¬
program.version(`icefirecli ${require("../package.json").version}`);
// name æ˜¯é…ç½®è„šæ‰‹æ¶åç§°
// usage æ˜¯é…ç½®å‘½ä»¤æ ¼å¼
program.name("icefirecli").usage(`<command> [option]`);

program.option("-h,--help", "help").action((cmd) => {
  // cmd.help?
});
program.option("-v,--version", "version").action((cmd) => {
  cmd.version ? console.log(chalk.blue(program._version)) : "";
});
program.parse(process.argv);
